<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About</title>
    <link rel="stylesheet" href="css/styles_about.css">
</head>
<body>
<div class="wrapper">
    <header class="container">
        <nav>
            <ul class="left-nav">
                <li class="profile"><a href="#" id="profile-button">Profile</a></li>
                <li><a href="#" id="habits-button">Habit</a></li>
                <li><a href="#" id="diagrams-button">Diagrams</a></li>
            </ul>
            <!-- ЛОГОТИП HabitFlow, теперь работает как кнопка -->
            <span class="logo" id="home-button">HabitFlow</span>
            <ul class="right-nav">
                <li><a href="#" id="settings-button">Settings</a></li>
                <li class="About"><a href="about.html" class="active">About</a></li>
            </ul>
        </nav>
    </header>
</div>

<div class="about_container">
    <div class="flower_left">
        <img src="img/flowers_2.svg" alt="">
    </div>
    <h1>Nice to meet you!</h1>
    <h2>Our names are Sophia and Stefania!</h2>
    <h3>We are students and we want to help you track your habits</h3>
    <h4>That is why we created this website</h4>
    <p>&copy; 2025 HabitFlow. All rights reserved.</p>
    <div class="flower_right">
        <img src="img/flowers_2.svg" alt="">
    </div>
    <div class="sofia">
        <img src="img/sofia.svg" alt="">
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const user = JSON.parse(localStorage.getItem("user"));
        const profileButton = document.getElementById("profile-button");
        const habitsButton = document.getElementById("habits-button");
        const diagramsButton = document.getElementById("diagrams-button");
        const settingsButton = document.getElementById("settings-button");
        const homeButton = document.getElementById("home-button");

        if (!user) {
            // Если пользователь не зарегистрирован, все кнопки ведут на страницу входа
            profileButton.addEventListener("click", () => window.location.href = "registration.html");
            habitsButton.addEventListener("click", () => window.location.href = "registration.html");
            diagramsButton.addEventListener("click", () => window.location.href = "registration.html");
            settingsButton.addEventListener("click", () => window.location.href = "registration.html");

            // Логотип HabitFlow ведет на страницу "до входа"
            homeButton.addEventListener("click", () => window.location.href = "main_before_registration.html");

        } else {
            // Если пользователь вошел в систему
            profileButton.addEventListener("click", () => window.location.href = "profile.html");

            // Проверяем, есть ли привычки у пользователя
            let userHabits = JSON.parse(localStorage.getItem(`habits_${user.email}`)) || [];
            habitsButton.addEventListener("click", function () {
                if (userHabits.length > 0) {
                    window.location.href = "list_habitats.html"; // Если есть привычки
                } else {
                    window.location.href = "habitat_without_value.html"; // Если привычек нет
                }
            });

            settingsButton.addEventListener("click", () => window.location.href = "settings.html");

            // Логотип HabitFlow ведет на главную после входа
            homeButton.addEventListener("click", () => window.location.href = "main_after_registration.html");
        }
    });
</script>

</body>
</html>
